%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Plantilla TFG/TFM
% Escuela Politécnica Superior de la Universidad de Alicante
% Realizado por: Jose Manuel Requena Plens
% Contacto: info@jmrplens.com / Telegram:@jmrplens
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\chapter{Introducción}
\label{ch:intro}

%En este capítulo de introducción se quiere exponer de manera breve los conceptos más importantes del \gls{tfg}, como son el \gls{sdn} y la tecnología \gls{iot}. Se discutirán las ventajas que tiene cada una de ellas, y qué valor añadido genera la integración de ambas. Más adelante, se indicarán las tecnologías con las cuales se podrá definir el denominado \textit{datapath} de los dispositivos \gls{iot}, para alcanzar la integración de estos en un entorno \gls{sdn}.\\
\par
%Con todo ello, se marcarán unos objetivos de este trabajo y cómo se quieren llevar a cabo. Dichos objetivos servirán para prefijar con que tecnologías es más viable la definición del plano de datos de los dispositivos \gls{iot}. Por último, se expondrá como es la estructura general de este trabajo, explicando brevemente de que tratará cada capítulo.
En este primer capítulo, se desea presentar de manera concisa los aspectos más relevantes del \gls{tfm}, como son, las redes de dispositivos \gls{iot}, la llegada de los entornos \gls{6g}, y la tecnología habilitadora en dichos entornos, el \gls{sdn}. Se explorarán las necesidades actuales de las redes de sensores \gls{iot}, se indagará la postulada nueva generación de redes moviles, \gls{6g}, y se verá donde entrará las redes \gls{sdn}, y qué mejoras deberán hacerse para hacer frente a las necesidades imperantes de las próximas redes de sensores.\\
\\
Se establecerán objetivos claros para el \gls{tfm} y se describirá detalladamente cómo se planea llevarlos a cabo cada uno de ellos. Estos objetivos ayudarán a al diseño y desarrollo de un nuevo protocolo de comunicación de control escalable para redes de sensores en un ambito de red \gls{sdn}. De forma adicional, se presentará la estructura general del \gls{tfm}, describiendo de manera breve los temas que se abordarán en cada capítulo. Por último, se indicarán las contribuciones realizadas en revistas cientificas de alto impacto de este proyecto.

\section{El Internet de las Cosas y la red \glsentryshort{6g}}
\label{sec:6gIoT}

Los recientes avances en las comunicaciones móviles junto a la mejora de las capacidades tecnológicas de los elementos hardware han llevado al \gls{iot} a un punto álgido, donde, a día de hoy, interconecta billones de objetos entre sí con comunicaciones \gls{m2m} tanto en entornos particulares, como en entornos industriales~\cite{Balaji2019}. Se puede afirmar que sin lugar a dudas el \gls{iot} es parte del hoy y el mañana de Internet, ha revolucionado la forma en se interactúa con el mundo que nos rodea, permitiendo conectar dispositivos entre sí de forma completamente autónoma a través de la red, proveyendo al humano de entornos inteligentes y adaptativos a las necesidades de la sociedad.\\
\\
Sin embargo, el aumento exponencial de los dispositivos \gls{iot} conectados a las redes de comunicaciones móviles ha generado nuevas necesidades en términos de capacidad, rendimiento, latencia y eficiencia de las redes que deben ser solventadas. Las tecnologías móviles \gls{5g} ya se han propuesto y desplegado comercialmente para dar soporte a las necesidades de las redes \gls{iot} y sus aplicaciones. Esta tecnología habilitadora daba solución a las necesidades preliminares del \gls{iot} haciendo uso de las funcionalidades que traía consigo, como por ejemplo, \gls{embb}, \gls{mmtc}, \gls{urllc}~\cite{Li2018}. Dichas funcionalidades proveían a los ecosistemas \gls{iot} de servicios de alto ancho de banda, baja latencia y optimización del consumo, siendo esta última muy importante para los dispositivos \gls{iot}. No obstante, con la rápida proliferación de nuevos de sensores, y con ello, el aumento de las redes \gls{iot} según se puede apreciar en la figura \ref{fig:intro_fig_iot}, los requisitos técnicos necesarios se han visto aumentados para poder seguir manteniendo entornos \gls{m2m} tal cual se conocían, completamente autónomos, dinámicos e inteligentes.


% figura aumento en el crecimiento de los dispositivos iot
\begin{figure}[ht]
    \centering
    \includegraphics[width=\textwidth]{archivos/img/intro/fig_iot.eps}
    \caption{Estudio de las conexiones IoT máximas simultáneas a nivel global \cite{figuraIoTDevices}}
    \label{fig:intro_fig_iot}
\end{figure}

%6g
Por ello, se necesita una tecnología más avanzada que pueda satisfacer las futuras demandas de las redes \gls{iot}, y la tecnología \gls{6g} se postula como una solución a todos los nuevos retos planteados. Por esa razón, para facilitar el desarrollo de las futuras redes \gls{iot} la investigación en la siguiente generación de redes moviles ha recibido mucha atención tanto por parte de academia e instituciones, como por parte de la industria \cite{Nguyen2022}. \\
\\
Si bien es cierto que la tecnología \gls{6g} está todavía siendo formulada, se espera que esta pueda proporcionar una \gls{qos} totalmente mejorada frente a la generación anterior, dado sus prestaciones son claramente superiores, como por ejemplo, comuniaciones de ultabaja latencia, tasas de velocidad de datos mejoradas y entornos inteligentes de comunicación con satelites. \\
\\
Por consiguiente, muchos de los esfuerzos de las instituciones están pasando por impulsar las redes \gls{6g}-\gls{iot}. Desde Europa se está impulsando la carrera por el \gls{6g} poniendo sobre la mesa una hoja de ruta dividida en cuatro fases diferenciadas, esperando poder finalizar en 2030 \cite{eu6GFases}. Dichos esfuerzos están siendo coordinados desde la EU’s Smart Networks and Services Joint Undertaking (SNS-JU) la cual tiene como misiones principales impulsar el despliegue del \gls{5g}, y situar a los paises miembros de la EU a la vanguardía del desarrollo de la próxima generación de redes moviles \cite{eu6gSNS}. Estas misiones planean llevarlas a cabo a través de un detallado \textit{roadmap} el cual se puede apreciar en la figura \ref{fig:intro_banner_screen}.

\begin{figure}[ht]
    \centering
    \includegraphics[width=\textwidth]{archivos/img/intro/banner-screen-1.png}
    \caption{\textit{Roadmap} propuesto por el SNS-JU para el desarrollo del \gls{6g} \cite{eu6gSNS}}
    \label{fig:intro_banner_screen}
\end{figure}


Dicho \textit{roadmap} se compone de varias fases, las cuales se han subdivido en streams. Los streams principales son cuatro, actualmente nos encontramos en el stream B del roadmap \cite{eu6GFase2}, el cual tiene como objetivo el impulso de la investigación en las areas tecnologicas habilitadoras del \gls{6g} además de la cooperación internacional con estados estrategicos como Estados Unidos. De entre todos los proyectos iniciados en 2023, destacan por ejemplo, Hexa-X~\cite{9482430}, iniciativa principal de europa liderada por Nokia financiado por el programa europeo Horizon 2020 que busca desarrollar el protipado de los sistemas \gls{6g}. Otro ejemplo, es el proyecto 6Genesis~\cite{Katz2019} financiado por Finlandia, que busca la generación de las primeras pruebas de concepto experimentales de redes \gls{6g}-\gls{iot}. Si nos vamos a proyectos más especificos, podemos encontrar ADROIT6G~\cite{ADROIT6G} y 6GTandem~\cite{6GTandem}, ambos han empezado en Enero de 2023 y buscan mejorar mejorar los sistemas distribuidos de acceso al medio mediante sistemas duales en frecuencia empleando procesado de señal \gls{mimo}.\\
\\
Pero el interés en la próxima generación de redes moviles, no es meramente local, si nos vamos a Estados Unidos, podemos ver como ya la FCC libera espectro en la banda de los THz en US para hacer pruebas de concepto para el 6G \cite{us6g}. O en a Corea del Sur, donde ya han pleando lanzar un proyecto piloto de \gls{6g} para el 2026 \cite{coreaSur6G}.\\
\\
Como se puede ver, el interés por el \gls{6g} es real, y se están realizando esfuerzos exhaustivos para la proliferación de las tecnologías habilitadoras del \gls{6g}, por lo que distintas instituciones apuntan a que las primeras redes \gls{6g} que podrán ser desplegadas en 2028 pero que su comercialización y la llegada a las personas de a pie no llegará hasta el 2030 \cite{Nguyen2022}.

https://hexa-x.eu/wp-content/uploads/2022/03/Hexa-X_D1.3.pdf
https://labs.etsi.org/rep/tfs/controller/-/tree/master/src/tests/ofc22
https://5g-ppp.eu/wp-content/uploads/2022/12/6G-Arch-Whitepaper_v1.0-final.pdf
https://ieeexplore.ieee.org/stamp/stamp.jsp?tp=&arnumber=9625032


\section{Redes \glsentryshort{sdn}}
\label{sec:6gIoT_sdn}


\section{Objetivos}
\label{sec:obj}

El objetivo principal de este proyecto es conseguir el desarrollo de un protocolo de control in-band eficiente
para la integración de la tecnologı́a IoT en las futuras de redes de 6G. Como ya hemos introducido, con la
llegada del IoT la dimensión de las redes va a crecer exponencialmente. Por lo consiguiente, la complejidad
de la administración de dichas redes va a suponer un gran desafı́o. Los dispositivos IoT se podrán beneficiar
de la integración con las redes SDN en 6G, ya que estas les reportará la flexibilidad y programabilidad
requerida para una correcta gestión y administración de cada elemento de la red. Por ello, se pueden resumir
los objetivos del proyecto en los siguientes puntos:

\begin{itemize}
    \item Analizar el estado del arte y necesidades actuales de IoT en 6G.
    \item Diseño de un protocolo in-band eficiente para IoT integrado con SDN.
    \item Emulación mediante plataformas como Contiki-NG, Mininet y ONOS.
    \item Implementación y despliegue en hardware real (tarjetas Raspberry Pi, o remotas IoT-LAB)
\end{itemize}





\section{Estructura del \glsentryshort{tfm}}
\label{sec:structure}



\section{Contribuciones}
\label{sec:contributions}


% Papers a meter
Este \gls*{tfm} ha proporcionado significativas contribuciones a la comunidad científica, incluyendo dos publicaciones en revistas de alto impacto indexadas en el JCR (2 Q2), un tercer trabajo en revisión (Q2). A continuación, se presentan estas contribuciones en resumen.\\
\\
Artículos de revistas científicas de alto impacto.

\begin{enumerate}
    \item Rojas, E., Hosseini, H., Gomez, C., \textbf{Carrascal, D.} and Cotrim, J.R., 2021. Outperforming RPL with scalable routing based on meaningful MAC addressing. Ad Hoc Networks, 114, p.102433. (JCR \textbf{Q2})
    \item Alvarez-Horcajo, J., Martinez-Yelmo, I., Rojas, E., Carral, J.A. and \textbf{Carrascal, D.}, 2022. ieHDDP: An Integrated Solution for Topology Discovery and Automatic In-Band Control Channel Establishment for Hybrid SDN Environments. Symmetry, 14(4), p.756. (JCR \textbf{Q2})
    \item \textbf{Carrascal, D.}, Rojas, E., Lopez-Pajares, D., Alvarez-Horcajo, J. and Carral, J.A., 2023. A Comprehensive Survey of In-Band Control in SDN:
          Challenges and Opportunities. Electronics, under review. (JCR \textbf{Q2})
\end{enumerate}

%El Internet de las Cosas (del inglés \textit{Internet of Things}, \gls{iot}) \cite{iotreview} y las Redes Definidas por Software (del inglés \textit{Software-Defined Networking}, \gls{sdn}) \cite{nadeau2013sdn}, son tecnologías emergentes que desde hace unos años están revolucionando los paradigmas sobre los modelos de redes comunicaciones establecidos en el pasado. \\
%\par

%Con las redes \gls{sdn}, como se puede apreciar en la figura \ref{sdnparadigma}, se desea extraer el plano de control de los dispositivos intermedios de procesamiento de la red, unificándolo en entes llamados controladores, haciendo la administración de red una tarea más centralizada y flexible. En cuanto al \gls{iot}, se pretende interconectar billones de objetos entre sí a través de Internet con la finalidad de que exista una comunicación máquina – máquina para proveer al usuario final de entornos inteligentes. 

% \begin{figure}[h]
%     \centering
%     \includegraphics[width=6.5cm]{archivos/img/intro/sdn.png}
%     \caption{Paradigma en redes \glsentryshort{sdn}}
%     \label{sdnparadigma}
% \end{figure}

% Se considera como un punto de convergencia entre ambas tecnologías las redes 5G basadas fundamentalmente en \gls{sdn}, ya que prevén la incorporación de múltiples dispositivos \gls{iot}. Sin embargo, no todos los dispositivos \gls{iot} soportan una gestión basada en \gls{sdn} debido a las limitaciones que estos tienen en memoria, capacidad de procesamiento y  batería. Conforme el mundo de los dispositivos \gls{iot} avanza, las placas \gls{sbc} cada vez se hacen más potentes y de un tamaño más reducido, haciendo posible que éstas puedan ser incluidas como una pieza fundamental en proyectos \gls{iot} de alto rendimiento \cite{7501691}. \\

% \par

% Además, los sensores \gls{iot}, comúnmente conocidas como ``motas", continuamente se fabrican con más capacidad de procesamiento, memoria y batería con la finalidad de hacer frente a las nuevas redes de comunicaciones 5G \cite{capra2019edge}. Por todo ello,  se estima que la integración con las redes \gls{sdn} está cada vez más próxima. Generalmente, se están siguiendo estas vías de actuación:
% \begin{itemize}
%     \item \label{iot_integracionParcial}Realizar una integración parcial, haciendo uso de de dispositivos mediadores entre las motas y el core \gls{sdn}. Este dispositivo mediador, sería un dispositivo híbrido con interfaces inalámbricas y alámbricas para tener de acceso a la red \gls{sdn} \cite{7848825}.

%           \begin{figure}[h]
%               \centering
%               \includegraphics[width=10cm]{archivos/img/intro/sdn_iot.png}
%               \caption{Integración parcial de dispositivos \glsentryshort{iot} en el core \glsentryshort{sdn}}
%               \label{sdn_iot_parcial}
%           \end{figure}
%           Como se puede ver en la figura \ref{sdn_iot_parcial}, haciendo uso de un dispositivo mediador, este actuaría de pasarela o \textit{gateway} para las redes de sensores. De esta manera, se delega toda la carga de procesamiento y consumo de batería que supone integrar la interfaz de control \gls{sdn}. Además, se implementarían los distintos protocolos y estándares para comunicarse con los dispositivos \gls{iot}. Esta vía también ofrece otros aspectos positivos, entre los cuales se puede destacar, emplear el gateway como un traductor de protocolos \gls{iot} \cite{8470257}. Esto permitiría que distintos sensores que tuvieran implementados diferentes protocolos como, por ejemplo, \gls{ble}\footnote{Especificación del protocolo:  \url{https://www.bluetooth.com/specifications/}} y Zigbee\footnote{Protocolo de alto nivel basado en el estandar \gls{ieee} 802.15.4, especificación: \url{https://zigbeealliance.org/solution/zigbee/} }, pudieran interactuar entre sí a través del  gateway \gls{iot}.

%     \item \label{iot_integracionTotal}Realizar una integración total, como se puede apreciar en la figura \ref{sdn_iot_total}, donde el propio dispositivo \gls{iot} es capaz de co-existir en la red \gls{sdn}. Esta última vía es la más ambiciosa debido a que se requiere de hardware lo suficientemente potente para soportar la lógica \gls{sdn}, y de una tecnología que establezca su plano de datos de forma más eficiente posible para optimizar al máximo los recursos limitados del dispositivo.

%           \begin{figure}[ht]
%               \centering
%               \includegraphics[width=10cm]{archivos/img/intro/sdn_iot_b.png}
%               \caption{Integración total de dispositivos \glsentryshort{iot} en el core \glsentryshort{sdn}}
%               \label{sdn_iot_total}
%           \end{figure}

% \end{itemize}



% \section{Tecnologías para la definición del datapath}



% En redes convencionales previas al concepto de \gls{sdn}, los nodos de la red tenían unificado un plano de control, \textit{Control plane}, donde se definía la lógica que dictaba como debía llevarse a cabo el \textit{forwarding} de los paquetes, y un plano de datos, \textit{Data plane}, el cual se puede implementar definiendo su datapath. Dicho datapath se compone de varios bloques de procesado para reenviar los paquetes. Con la llegada del paradigma de las redes \gls{sdn}, como se puede apreciar en la figura \ref{sdnparadigma}, los nodos clásicos de red verían como su plano de control sería delegado a una entidad llamada controlador. El controlador tendría una perspectiva global de toda la red en su conjunto pudiendo gestionarla de una manera más flexible y centralizada. \\
% \par
% En consecuencia, los nodos de la red estarían destinados a implementar un plano de datos, y una interfaz de control para ser configurados por el controlador mediante protocolos como, por ejemplo, OpenFlow\footnote{\url{https://www.opennetworking.org/software-defined-standards/specifications/}}. \\
% \par
% Por lo tanto, para ejecutar la integración de los dispositivos \gls{iot} en las redes \gls{sdn} se debe poder definir un datapath en dichos dispositivos y que estos posean una interfaz de control para ser configurados desde un hipotético controlador. Debido a esto, se requiere hacer uso de tecnologías que nos permitan definir el plano de datos de estos dispositivos. En este \gls{tfg}, se abordarán las siguientes tecnologías:

% \begin{itemize}
%     \item El lenguaje \textbf{P4}. Este lenguaje de alto nivel nos permite definir el procesado de los paquetes para un conjunto de arquitecturas. Dichas arquitecturas tienen su propia especificación. Con ello, se quiere conseguir que los programas P4 sean independientes del \textit{hardware} donde se ejecute \cite{2014p4}.

%     \item \textbf{\gls{xdp}}. Es un \textit{framework} programable y de alto rendimiento para el procesado de paquetes en el Kernel de Linux. El procesado de los paquetes se lleva a cabo en el punto más bajo de la pila de red de Linux, consiguiendo así añadir nuevas funcionalidades sin necesidad de modificar el propio Kernel. Además, el hecho de definir el procesado de paquetes casi en la propia interfaz, reporta un gran rendimiento ya que no es necesario atravesar toda la pila de protocolos, con todo lo que eso conlleva (reservas de memoria, reservas de memoria para metadatos, encolado de los paquetes, desencapsulado de cabeceras, análisis y tratamiento de cabeceras, etc) \cite{xdp1}.
% \end{itemize}



% \section{Objetivos}

% El objetivo de este proyecto es realizar un estudio y análisis de las tecnologías P4 y \gls{xdp} para la integración de dispositivos \gls{iot} en entornos \gls{sdn}. Como ya hemos introducido, con la llegada del \gls{iot}, la dimensión de las redes va a crecer exponencialmente. Por consiguiente, la complejidad de la administración de dichas redes va a suponer un gran desafío.  Los dispositivos \gls{iot} se podrán beneficiar de la integración con las redes \gls{sdn}, ya que éstas les reportarán la \textbf{flexibilidad} y \textbf{programabilidad} requerida para una correcta gestión y administración de cada elemento de la red. Para alcanzar dicho objetivo, se han planteado los siguientes puntos:

% \begin{itemize}
%     \item \textbf{Documentación y estudio}: Búsqueda y recolección de información, artículos y guías para tener
%           los conocimientos básicos necesarios sobre el estado del arte actual y de las tecnologías para definir el plano de datos. De esta forma, se podrá plantear los diseños y desarrollos más optimizados, de cara a favorecer las limitaciones impuestas por los dispositivos \gls{iot}.

%     \item \textbf{Planteamiento de casos de uso típicos y elección de escenarios}: Se hará un planteamiento de funcionalidades básicas, casos de uso, que una tecnología que define un datapath debe ser capaz de proveer. Además, se elegirán los escenarios y plataformas para desplegar dichos casos de uso.

%     \item  \textbf{Desarrollo de los casos de uso}: Se abordará el desarrollo de dichos casos de uso con ambas tecnologías (P4, \gls{xdp}) en los escenarios planteados. Se tratará que los escenarios donde se desplieguen los desarrollos sean lo más homogéneos posibles, para que los puntos fuertes y débiles de cada tecnología puedan ser esclarecidos.

%     \item \textbf{Evaluación y comprobación de funcionamiento}: Se comprobará el correcto funcionamiento de todos los casos de uso desarrollados y por último, se evaluará que tecnología es más idónea para definir el datapath de los dispositivos \gls{iot} en su integración en entornos \gls{sdn}.
% \end{itemize}


% \section{Estructura del \glsentryshort{tfg}}

% En esta sección se indica la estructura básica de este \gls{tfg}, haciendo un breve resumen de los aspectos más importantes y significativos de cada capítulo.


% \begin{description}
%     \item\textbf{Capítulo 1: Introducción}. Se hará una breve introducción de la motivación que ha originado la realización de este \gls{tfg}, así como una breve explicación de los aspectos generales y de los objetivos que se quieren alcanzar con el trabajo presentado.

%     \item\textbf{Capítulo 2: Estado del arte}. Se documentarán conceptos fundamentales en relación al proyecto, además de todas las diferentes herramientas que sean utilizadas. La motivación de este capítulo es la de establecer un marco teórico lo suficientemente consistente para abordar el análisis y el diseño de forma óptima, previo al desarrollo.

%     \item\textbf{Capítulo 3: Diseño y análisis de casos de uso}. Se debatirá y analizará que funcionalidades básicas deben tener las distintas tecnologías para definir el datapath. Para ello, se diseñarán distintos casos de uso para así demostrar la eficiencia de una tecnología sobre la otra en la integración de los dispositivos \gls{iot} en entornos \gls{sdn}.

%     \item\textbf{Capítulo 4: Desarrollo y evaluación de casos de uso}. Se describirá el desarrollo realizado, indicando las partes más importantes de cada caso de uso, ofreciendo al final de cada caso una evaluación de su funcionamiento.

%     \item\textbf{Capítulo 5: Conclusiones y trabajo futuro}. Se terminará la memoria con las conclusiones del trabajo realizado, y se presentarán las vías de trabajo futuro que tiene este proyecto.

%     \item[]\textbf{Bibliografía y referencias}. Se añadirán todos los artículos, libros, materiales consultados y empleados en la elaboración de esta memoria. Se seguirá el estilo de citación del \gls{ieee}, siguiendo las recomendaciones oficiales de la normativa sobre \gls{tfg}s de la \gls{uah}.

%     \item[]\textbf{Anexos}. Se incluirán todos los manuales de usuario e instalación que se consideren oportunos. De forma adicional, se añadirán las características técnicas del \textit{hardware} con el cual se ha desarrollado este \glsentryshort{tfg}. Por último, se hará un presupuesto que incluya el coste de mano de obra, material y gastos generales.

% \end{description}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%